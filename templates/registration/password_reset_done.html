{% extends 'base.html' %}
{% block content %}
<main class="flex-1 flex items-center justify-center px-4 py-12">
    <!-- TEST DONE -->
    <!-- Estado de confirmación (inicialmente oculto) -->
    
    <div id="success-state" class="bg-white rounded-lg shadow-sm p-6 md:p-8 ">
        {% if messages %}
            <ul class="messages">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
            </ul>
        {% endif %}
                <!-- Header de éxito -->
        <div class="text-center mb-8">
                    <div class="w-16 h-16 bg-goodbudget-light rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8 text-goodbudget-dark">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                        </svg>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">¡Enlace enviado!</h2>
                    <p class="text-gray-600">Revisa tu bandeja de entrada</p>
                </div>

                <!-- Información del email enviado -->
        
                <div class="mb-6">
                    <div class="bg-goodbudget-lighter border border-goodbudget-light rounded-md p-4 mb-4">
                        <div class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-goodbudget mr-3 mt-0.5 flex-shrink-0">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <div>
                                <p class="text-sm font-medium text-goodbudget-dark mb-1">Email enviado a:</p>
                                <p class="text-sm text-gray-700" id="sent-email">usuario@email.com</p>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-3 text-sm text-gray-600">
                        <p><strong>Próximos pasos:</strong></p>
                        <ol class="list-decimal list-inside space-y-1 ml-4">
                            <li>Revisa tu bandeja de entrada (y spam)</li>
                            <li>Haz clic en el enlace del email</li>
                            <li>Crea tu nueva contraseña</li>
                            <li>Inicia sesión con tu nueva contraseña</li>
                        </ol>
                    </div>
                </div>

                <!-- Información adicional -->
        <div class="bg-orange-50 border border-orange-200 rounded-md p-4 mb-6">
                    <div class="flex items-start">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-orange-600 mr-3 mt-0.5 flex-shrink-0">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4m-4 0v6m0-6H8m4 0V6m0 0V4.5a1.5 1.5 0 011.5-1.5h3A1.5 1.5 0 0118 4.5V6M12 6V4.5a1.5 1.5 0 00-1.5-1.5h-3A1.5 1.5 0 006 4.5V6" />
                        </svg>
                        <div>
                            <p class="text-sm font-medium text-orange-800 mb-1">Importante:</p>
                            <p class="text-sm text-orange-700">El enlace expirará en 24 horas por seguridad. Si no lo recibes en unos minutos, revisa tu carpeta de spam.</p>
                        </div>
                    </div>
                </div>

                <!-- Botones de acción -->
        <form method='post' action="{% url 'resend_password_reset' %}" class="space-y-3">
                {% csrf_token %}
                <button id="resend-email" type="submit" class="w-full px-6 py-3 border border-goodbudget rounded-md shadow-sm text-base font-medium text-goodbudget bg-white hover:bg-goodbudget-light focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-goodbudget">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-2 inline">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99" />
                </svg>
                     Reenviar email
                    </button>
                    <button type="button" class="w-full px-6 py-3 border border-gray-300 rounded-md shadow-sm text-base font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-goodbudget">
                        <a href="{% url 'inicio'%}">← Volver al inicio de sesión</a>
                    </button>
                </div>
    </div>
    
</main>
{% endblock %}
